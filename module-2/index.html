<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Dashboard</title>
    <link rel="stylesheet" href="Styles/index.css">
    <link rel="stylesheet" href="Styles/login.css">
    <link rel="stylesheet" href="Styles/tasksComponent.css">
    <link rel="stylesheet" href="Styles/suggestedTaskComponent.css">
    <link rel="stylesheet" href="Styles/taskCreationForm.css">
    <link rel="stylesheet" href="Styles/moodSelecter.css">
    <link rel="stylesheet" href="Styles/loginForm.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-section">
                <div class="logo"></div>
                <div class="welcome-text">
                    <h1>Welcome</h1>
                    <p>Guest.</p>
                </div>
            </div>
            <div class="header-actions">
                <div class="mood-indicator" onclick="openMoodModal()">
                    <span>Mood:</span>
                    <span>üòä</span>
                </div>
                <button class="icon-btn">üå≥</button>
                <button class="icon-btn" onclick="openLoginModal()">üë§</button>
            </div>
        </div>

        <div class="main-content">
            <div class="tasks-section">
                <div class="section-header">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                        <div>
                            <h2 class="section-title">Ready for Today?</h2>
                            <p class="section-subtitle">You have 3 tasks planned for today</p>
                        </div>
                        <div class="action-buttons" style="margin-bottom: 0;">
                            <button class="btn btn-primary" onclick="openTaskModal()">
                                + Add Task
                            </button>
                            <button class="btn btn-secondary" onclick="completeAll()">Complete All</button>
                            <button class="btn btn-secondary" onclick="toggleCompleted()">Show Completed</button>
                        </div>
                    </div>
                </div>

                <div class="tasks-grid">
                    <div class="task-card">
                        <div class="task-title">Run!</div>
                        <div class="task-duration">4 mins</div>
                        <div class="task-time">1:21 PM</div>
                        <div class="task-complete" onclick="toggleTaskComplete(this)">‚úì</div>
                    </div>

                    <div class="task-card">
                        <div class="task-title">Don't Run</div>
                        <div class="task-duration">34 mins</div>
                        <div class="task-time">12:34 AM</div>
                        <div class="task-complete" onclick="toggleTaskComplete(this)">‚úì</div>
                    </div>

                    <div class="task-card">
                        <div class="task-title">Bake Brownies</div>
                        <div class="task-duration">809 mins</div>
                        <div class="task-time">12:09 PM</div>
                        <div class="task-complete" onclick="toggleTaskComplete(this)">‚úì</div>
                    </div>
                </div>
            </div>

            <div class="suggested-section">
                <h2 class="section-title" style="color: white;">Suggested tasks</h2>
                
                <div class="suggested-task">
                    <div class="suggested-header">
                        <div>
                            <div class="task-title" style="color: orange;">Read a Book</div>
                            <div class="task-duration">45 mins</div>
                            <div class="task-time">12:43 PM</div>
                        </div>
                        <div class="suggested-icon" style="position: absolute; top: 0.5rem; right: 0.5rem; background: none;">üòä</div>
                    </div>
                    <div style="position: absolute; bottom: 2.5rem; right: 1.5rem; text-align: right;">
                        <div class="suggested-meta" style="margin-bottom: 0.2rem;">Based on</div>
                        <div class="weather-info" style="color: orange;">Mood</div>
                    </div>
                    <div class="task-complete" onclick="toggleTaskComplete(this)" style="bottom: 1rem; top: auto;">‚úì</div>
                </div>
                
                <div class="suggested-task">
                    <div class="suggested-header">
                        <div>
                            <div class="task-title" style="color: #9acd32;">Meditation</div>
                            <div class="task-duration">15 mins</div>
                            <div class="task-time">12:43 PM</div>
                        </div>
                        <div class="suggested-icon" style="position: absolute; top: 0.5rem; right: 0.5rem; background: none;">‚òÅÔ∏è</div>
                    </div>
                    <div style="position: absolute; bottom: 2.5rem; right: 1.5rem; text-align: right;">
                        <div class="suggested-meta" style="margin-bottom: 0.2rem;">Based on</div>
                        <div class="weather-info">Weather - Mostly Cloudy</div>
                    </div>
                    <div class="task-complete" onclick="toggleTaskComplete(this)" style="bottom: 1rem; top: auto;">‚úì</div>
                </div>
            </div>
        </div>
    </div>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Welcome Back !</h2>
                <button class="close-btn" onclick="closeLoginModal()">&times;</button>
            </div>
            <p style="opacity: 0.7; margin-bottom: 1.5rem; text-align: center;">Please enter your details to login</p>
            <form>
                <div class="form-group">
                    <input type="text" class="form-input" placeholder="Name" required>
                </div>
                <div class="form-group">
                    <input type="email" class="form-input" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" class="form-input" placeholder="Password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
            </form>
        </div>
    </div>

    <div id="taskModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add a new task</h2>
                <button class="close-btn" onclick="closeTaskModal()">&times;</button>
            </div>
            <form>
                <div class="form-group">
                    <input type="text" class="form-input" placeholder="Task name" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Duration (in minutes)</label>
                    <input type="number" class="form-input" placeholder="15" min="1">
                </div>
                <div class="form-group">
                    <label class="form-label">Due Date</label>
                    <input type="datetime-local" class="form-input">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Create Task</button>
            </form>
        </div>
    </div>

    <div id="moodModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">How are you feeling?</h2>
                <button class="close-btn" onclick="closeMoodModal()">&times;</button>
            </div>
            <div class="mood-selector">
                <div class="mood-option" onclick="selectMood(this, 'üò¢')">üò¢</div>
                <div class="mood-option selected" onclick="selectMood(this, 'üòê')">üòê</div>
                <div class="mood-option" onclick="selectMood(this, 'üòä')">üòä</div>
            </div>
            <input type="range" class="mood-slider" min="0" max="100" value="50">
            <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Set Mood</button>
        </div>
    </div>

    <script>
        // Modal Functions
        function openLoginModal() {
            document.getElementById('loginModal').classList.add('active');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('active');
        }

        function openTaskModal() {
            document.getElementById('taskModal').classList.add('active');
        }

        function closeTaskModal() {
            document.getElementById('taskModal').classList.remove('active');
        }

        function openMoodModal() {
            document.getElementById('moodModal').classList.add('active');
        }

        function closeMoodModal() {
            document.getElementById('moodModal').classList.remove('active');
        }

        function selectMood(element, emoji) {
            // Remove selected class from all mood options
            document.querySelectorAll('.mood-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            element.classList.add('selected');
            
            // Update mood indicator in header
            document.querySelector('.mood-indicator span:last-child').textContent = emoji;
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.classList.remove('active');
                }
            });
        }

        // Handle form submissions
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Form submitted! (Static demo)');
            });
        });

        // Global state for tracking completion status
        let allCompleted = false;
        let showingCompleted = true;

        // Individual task toggle functionality
        function toggleTaskComplete(element) {
            if (element.classList.contains('uncompleted')) {
                element.classList.remove('uncompleted');
                element.textContent = '‚úì';
            } else {
                element.classList.add('uncompleted');
                element.textContent = '';
            }
        }

        // Complete All functionality
        function completeAll() {
            const allCheckboxes = document.querySelectorAll('.task-complete');
            
            if (allCompleted) {
                // Mark all tasks as uncompleted
                allCheckboxes.forEach(checkbox => {
                    checkbox.classList.add('uncompleted');
                    checkbox.textContent = '';
                });
                document.querySelector('[onclick="completeAll()"]').textContent = 'Complete All';
                allCompleted = false;
            } else {
                // Mark all tasks as completed
                allCheckboxes.forEach(checkbox => {
                    checkbox.classList.remove('uncompleted');
                    checkbox.textContent = '‚úì';
                });
                document.querySelector('[onclick="completeAll()"]').textContent = 'Uncomplete All';
                allCompleted = true;
            }
        }

        // Show/Hide Completed functionality
        function toggleCompleted() {
            const allTaskCards = document.querySelectorAll('.task-card, .suggested-task');
            const button = document.querySelector('[onclick="toggleCompleted()"]');
            
            if (showingCompleted) {
                // Hide completed tasks
                allTaskCards.forEach(card => {
                    const checkbox = card.querySelector('.task-complete');
                    if (!checkbox.classList.contains('uncompleted')) {
                        card.style.display = 'none';
                    }
                });
                button.textContent = 'Show Completed';
                showingCompleted = false;
            } else {
                // Show all tasks
                allTaskCards.forEach(card => {
                    card.style.display = 'block';
                });
                button.textContent = 'Hide Completed';
                showingCompleted = true;
            }
        }
    </script>
</body>
</html>